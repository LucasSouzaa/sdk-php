{"name":"PHP Integration lib","tagline":"maxiPago! Smart Payments - PHP lib","body":"## Introduction ##\r\n\r\nThis **NEW PHP** library allows for easy integration with the **maxiPago! Smart Payments** API. Our payment platform allows online merchants to accept payments in many countries in Latin America and the US and includes such functionalities as Automated Recurring Billing, \"Single-Click\" payments, Online Returns, Credit Card Payment Reconciliation, Fraud Tools and more. You can find out more about **maxiPago!** by visiting [www.maxipago.com](http://www.maxipago.com/).\r\n\r\nThis library has all the functionalities currently available through our XML-based API and can be freely copied and used by Merchants and developers.\r\n\r\nYou can get a more comprehensive view of our API by looking at our documentation, [which can be downloaded here](http://www.maxipago.com/docs/maxiPago_API_Latest.pdf). If you are looking for a hosted payment page solution, please see the section _**smartPages!**_ in the documentation.\r\n\r\n\r\n## Available transaction types ##\r\n\r\n* **Authorization:** checks if the credit card used is valid (number, security code and expiration date) and if the card holder has sufficient funds for that purchase.\r\n\r\n* **Capture:** confirms the authorization previously made and completes the transaction. If the transaction is never captured the Merchant does not receive the funds and the Card Holder is never charged.\r\n\r\n>*Separating the authorization and capture in two different moments is an excellent way to check if you have the purchased items in stock or to run a fraud check, while still guaranteeing payment.*\r\n\r\n* **Sale:** combines the authorization and the capture in a single request. When performing a Sale we send the credit card for authorization and immediately capture that transaction, if approved.\r\n\r\n* **Void:** cancels the transaction and no money is charged from the buyer. You can only void a transaction until 11:59pm of the day of capture.\r\n\r\n* **Return:** reverses a credit card transaction, taking funds from the Merchant and giving them back to the buyer. This is a financial operation that might take a few days to be completed, depending on your credit card processor.\r\n\r\n* **Recurring:** schedules a credit card transaction to be charged at a specific interval, defined by the Merchant.\r\n\r\n* **Card On File:** saves a card in our system and returns a unique token, which can be used to process future transactions. **This allows the implementation of \"single-click\" payments.**\r\n\r\n* **Boleto:** *(Brazil only)* Transactions made with Boletos are different than credit card purchases. This creates a boleto and returns an URL to the buyer to access the boleto payment slip. It can be accessed at any time before the boleto expiration and up to 60 days after it has expired.\r\n\r\n\r\n## Installation and setup ##\r\n\r\nThe library consists of the folling files:\r\n\r\n````\r\n  /lib/  \r\n  |-- maxiPago.php  \r\n  |-- maxipago  \r\n    |-- maxiPagoRequest.php  \r\n    |-- maxiPagoRequestBase.php  \r\n    |-- maxiPagoResponseBase.php  \r\n    |-- maxiPagoServiceBase.php  \r\n    |-- maxiPagoTransaction.php  \r\n    |-- maxiPagoXmlHandler.php\r\n````\r\n\r\nCopy **/lib/maxipago/** to your local server. In your code, include the **maxiPago.php** file, which checks the minimum requirements and includes the other necessary files:\r\n\r\n\trequire_once \"./lib/maxiPago.php\"\r\n\r\nNow, create a new object from the maxiPago class:\r\n\r\n\t$maxiPago = new maxiPago;\r\n\r\n\r\n## Environment and Credentials ##\r\n\r\nIn order to send requests you will need valid Merchant Credentials. They can be obtained with our Customer Support team.\r\n\r\n**maxiPago!** provides a fully functional sandbox environment to simulate the transaction responses. You need to set the environment the transactions will be sent to, which can be done by sending either **\"TEST\"** or **\"LIVE\"**.\r\n\r\nTo set the credentials and environment used to process requests:\r\n\r\n\t$maxiPago->setCredentials(\"100\", \"merchant_key\");\r\n\t$maxiPago->setEnvironment(\"TEST\");\r\n\r\n\r\n## Debug Mode ##\r\n\r\nThe Debug Mode prints the request and response XML's so you can easily identify any issues with the request. In order to enable debug use the **setDebug()** method:\r\n\r\n\t$maxiPago->setDebug(true);\r\n\r\n\r\n## Request ##\r\n\r\nTo send a request to **maxiPago!** you need to call one of the methods listed above, passing an array with the request parameters, as such:\r\n\r\n\t$data = array(\r\n\t\t\"processorID\" => \"1\",\r\n\t\t\"referenceNum\" => \"ORDER2937283\",\r\n\t\t\"chargeTotal\" => \"10.00\",\r\n\t\t\"number\" => \"4111111111111111\",\r\n\t\t\"expMonth\" => \"07\",\r\n\t\t\"expYear\" => \"2017\",\r\n\t\t\"cvvNumber\" => \"123\"\r\n\t);\r\n\t\r\n\t$maxiPago->creditCardAuth($data);\r\n\r\n\r\n## Response ##\r\n\r\nThere are methods to get each piece of information from the response. However, you can also call the **getResponse()** method to retrieve all fields in the response as an array:\r\n\r\n\tprint_r($maxiPago->getResponse());\r\n\t\r\n\tArray\r\n\t(\r\n\t    [authCode] => 123456\r\n\t    [orderID] => 0AF90437:013CC42DDE87:F5D0:01E1101A\r\n\t    [referenceNum] => ORD29328493\r\n\t    [transactionID] => 422570\r\n\t    [transactionTimestamp] => 1312156800\r\n\t    [responseCode] => 0\r\n\t    [responseMessage] => AUTHORIZED\r\n\t    [avsResponseCode] =>\r\n\t    [cvvResponseCode] =>\r\n\t    [processorCode] => A\r\n\t    [processorMessage] => APPROVED\r\n\t    [errorMessage] => \r\n\t)\r\n\r\n\r\n\r\n## All request methods ##\r\n\r\n\r\n####Credit Card Transactions####\r\n* Authorization: **creditCardAuth()**\r\n* Capture: **creditCardCapture()**\r\n* Sale (Authorization + Capture): **creditCardSale()**\r\n* Automatically save card: **creditCardAuth() or creditCardSale()**\r\n* Void: **creditCardVoid()**\r\n* Refund: **creditCardRefund()**\r\n  \r\n####Recurring Transactions####\r\n* Create recurring credit card billing: **createRecurring()**\r\n* Cancel a recurring billing: **cancelRecurring()**\r\n \r\n####Boleto Transactions####\r\n* Create boleto payment slip (Brazil only): **boletoSale()**\r\n\r\n####Reports####\r\n* Query one single transaction: **pullReport()**\r\n* Query a list of transactions: **pullReport()** \r\n* Flip through pages of a transaction list: **pullReport()** \r\n* Query a pending report: **pullReport()** \r\n\r\n\r\n####Customer Profile / Card On File####\r\n* Create a profile *(a profile must be created to save a card)*: **addProfile()**\r\n* Update a profile: **updateProfile()** \r\n* Remove a profile: **deleteProfile()** \r\n* Add a credit card: **addCreditCard()**\r\n* Remove a credit card: **deleteCreditCard()**\r\n\r\n\r\n## All response methods ##\r\n\r\n\r\n####Request validators####\r\n* Checks if there was an error in the request: **isErrorResponse()**\r\n* Checks if the request was successful: **isTransactionResponse()**\r\n\r\n####Main transaction response methods####\r\n* Gets the Authorization Code, if any was replied: **getAuthCode()**\r\n* Gets the Order ID created: **getOrderID()**\r\n* Gets the Transaction ID created: **getTransactionID()**\r\n* Gets the URL for the Boleto issued *(Brazil only)*: **getBoletoUrl()**\r\n* Gets the Processor Code: **getProcessorCode()**\r\n* Gets the Processor Reference Number: **getProcessorReferenceNumber()**\r\n* Gets the Processor Transaction ID: **getProcessorTransactionID()**\r\n* Gets an array with all response fields: **getResponse()**\r\n\r\n####Other transaction response methods####\r\n* Gets the AVS Response Code *(US only)*: **getAvsResponseCode()**\r\n* Gets the Command used in the request: **getCommand()**\r\n* Gets the Customer ID created: **getCustomerId()**\r\n* Gets the CVV Response Code *(US only)*: **getCvvResponseCode()**\r\n* Gets the Fraud Score analysis: **getFraudScore()**\r\n* Gets the Response Message: **getMessage()**\r\n* Gets the report's number of pages: **getNumberOfPages()**\r\n* Gets the report's current page: **getPageNumber()**\r\n* Gets the report's page token: **getPageToken()**\r\n* Gets the transaction list as array: **getReportResult()**\r\n* Gets the report's time: **getTime()**\r\n* Gets the Credit Card Token created: **getToken()**\r\n* Gets the number of transactions in a report: **getTotalNumberOfRecords()**\r\n* Gets the Transaction Unix time: **getTransactionTimestamp()**\r\n\r\n\r\n## Documentation and Support ##\r\n\r\n[**maxiPago!**'s full API documentation can be found here](http://www.maxipago.com/docs/maxiPago_API_Latest.pdf).\r\n\r\nOur support team is happy to help you with any questions you might have, be it about the functionalities of our platform or about payments in general. They are available to customers and non-customers alike: [drop us an email](mailto:support@maxipago.com)!","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}